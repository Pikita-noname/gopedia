---

title: "4.3 ‚ùó –û—à–∏–±–∫–∏ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è"
date: 2025-07-02
weight: 43
draft: false
------------

## üö® –û—à–∏–±–∫–∏ –≤ Go ‚Äî —á–∞—Å—Ç—å –æ–±—ã—á–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞

–í Go **–Ω–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–π**, –∫–∞–∫ –≤ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ Go –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–∑–Ω–∞—á–µ–Ω–∏—è –æ—à–∏–±–æ–∫** ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ–π, –Ω–æ –º–æ—â–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–±–ª–µ–º.

---

## üì¶ –¢–∏–ø `error`

–¢–∏–ø `error` ‚Äî —ç—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

```go
type error interface {
    Error() string
}
```

–§—É–Ω–∫—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ—à–∏–±–∫—É –∫–∞–∫ **–≤—Ç–æ—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**:

```go
value, err := someFunc()
if err != nil {
    fmt.Println("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞:", err)
    return
}
```

---

## üõ† –°–æ–∑–¥–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç—É—é –æ—à–∏–±–∫—É –º–æ–∂–Ω–æ —Å –ø–æ–º–æ—â—å—é `errors.New`:

```go
import "errors"

err := errors.New("—á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫")
```

–ò–ª–∏ —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º:

```go
import "fmt"

err := fmt.Errorf("–æ—à–∏–±–∫–∞: %v", cause)
```

---

## üìè –ü—Ä–∏–º–µ—Ä —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º –æ—à–∏–±–∫–∏

```go
func divide(a, b int) (int, error) {
    if b == 0 {
        return 0, fmt.Errorf("–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å")
    }
    return a / b, nil
}

result, err := divide(10, 0)
if err != nil {
    fmt.Println("–û—à–∏–±–∫–∞:", err)
} else {
    fmt.Println("–†–µ–∑—É–ª—å—Ç–∞—Ç:", result)
}
```

---

## üîß –°–≤–æ–∏ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫

–¢—ã –º–æ–∂–µ—à—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫:

```go
type MyError struct {
    Code int
    Msg  string
}

func (e MyError) Error() string {
    return fmt.Sprintf("–∫–æ–¥ %d: %s", e.Code, e.Msg)
}
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```go
return MyError{Code: 404, Msg: "–ù–µ –Ω–∞–π–¥–µ–Ω–æ"}
```

---

## ‚õî Panic –∏ recover (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ)

–ò–Ω–æ–≥–¥–∞ –æ—à–∏–±–∫–∏ –∫—Ä–∏—Ç–∏—á–Ω—ã, –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è. –¢–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `panic`:

```go
panic("—Ñ–∞—Ç–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞")
```

`panic` –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å —Å –ø–æ–º–æ—â—å—é `recover`, –Ω–æ —ç—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–¥–∫–æ ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ middleware:

```go
func safeExecute() {
    defer func() {
        if r := recover(); r != nil {
            fmt.Println("–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–∞–Ω–∏–∫–∏:", r)
        }
    }()

    panic("—á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫")
}
```

---

## üìå –ì–ª–∞–≤–Ω–æ–µ –∏–∑ –≥–ª–∞–≤—ã

* –û—à–∏–±–∫–∏ ‚Äî –æ–±—ã—á–Ω–∞—è —á–∞—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–π –≤ Go.
* –ü—Ä–æ–≤–µ—Ä—è–π `err != nil` –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏.
* –ò—Å–ø–æ–ª—å–∑—É–π `fmt.Errorf` –∏ `errors.New` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ—à–∏–±–æ–∫.
* –û–ø—Ä–µ–¥–µ–ª—è–π —Å–≤–æ–∏ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤.
* `panic/recover` ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π.

---

–í —Å–ª–µ–¥—É—é—â–µ–º —Ä–∞–∑–¥–µ–ª–µ —Ç—ã —É–∑–Ω–∞–µ—à—å, —á—Ç–æ —Ç–∞–∫–æ–µ **–ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º –∏ –∫–∞–Ω–∞–ª—ã**, –∞ —Ç–∞–∫ –∂–µ –ø—Ä–æ **–ø–∞—Ç—Ç–µ—Ä–Ω—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏**.
